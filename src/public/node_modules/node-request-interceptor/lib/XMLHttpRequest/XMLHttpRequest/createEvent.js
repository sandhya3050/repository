"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EventOverride_1 = require("./EventOverride");
var ProgressEventPolyfill_1 = require("./ProgressEventPolyfill");
var SUPPORTS_PROGRESS_EVENT = typeof ProgressEvent !== 'undefined';
function createEvent(options, target, type) {
    var progressEvents = [
        'error',
        'progress',
        'loadstart',
        'loadend',
        'load',
        'timeout',
        'abort',
    ];
    /**
     * `ProgressEvent` is not supported in React Native.
     * @see https://github.com/mswjs/node-request-interceptor/issues/40
     */
    var ProgressEventClass = SUPPORTS_PROGRESS_EVENT
        ? ProgressEvent
        : ProgressEventPolyfill_1.ProgressEventPolyfill;
    var event = progressEvents.includes(type)
        ? new ProgressEventClass(type, {
            lengthComputable: true,
            loaded: (options === null || options === void 0 ? void 0 : options.loaded) || 0,
            total: (options === null || options === void 0 ? void 0 : options.total) || 0,
        })
        : new EventOverride_1.EventOverride(type, {
            target: target,
            currentTarget: target,
        });
    return event;
}
exports.createEvent = createEvent;
